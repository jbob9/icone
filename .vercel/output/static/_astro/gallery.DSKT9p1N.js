import{j as l}from"./jsx-runtime.D_zvdyIk.js";import{m as x,r as n}from"./index.CoQRvKGO.js";import{c as h,i as f}from"./image-url.umd.CmM9KNG9.js";const b=h({apiVersion:"2025-04-20",projectId:"avd06zyn",dataset:"production",useCdn:!1}),p=f(b);function m(e){return p.image(e)}const g=({images:e,initialIndex:c,onClose:o})=>{const[a,d]=x.useState(c),s=n.useCallback(()=>{d(t=>(t+1)%e.length)},[e.length]),r=n.useCallback(()=>{d(t=>(t-1+e.length)%e.length)},[e.length]),i=n.useCallback(t=>{t.key==="ArrowRight"&&s(),t.key==="ArrowLeft"&&r(),t.key==="Escape"&&o()},[s,r,o]);return n.useEffect(()=>(document.body.style.overflow="hidden",window.addEventListener("keydown",i),()=>{document.body.style.overflow="",window.removeEventListener("keydown",i)}),[i]),e.length?l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-80",children:[l.jsx("button",{className:"absolute top-4 right-4 text-white text-3xl font-bold focus:outline-none",onClick:o,"aria-label":"Close",children:"×"}),l.jsx("button",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white text-4xl px-2 py-1 bg-black bg-opacity-40 rounded-full hover:bg-opacity-70",onClick:r,"aria-label":"Previous image",children:"‹"}),l.jsx("img",{src:e[a],alt:`Gallery image ${a+1}`,className:"max-h-[80vh] max-w-[90vw] rounded-lg shadow-lg object-contain"}),l.jsx("button",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-white text-4xl px-2 py-1 bg-black bg-opacity-40 rounded-full hover:bg-opacity-70",onClick:s,"aria-label":"Next image",children:"›"}),l.jsxs("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 text-white text-sm",children:[a+1," / ",e.length]})]}):null},v=({gallery:e})=>{const[c,o]=n.useState(!1),[a,d]=n.useState(0),s=e?.map(t=>m(t.asset).format("webp").fit("fill").url())||[];console.log(c,"modalOpen"),console.log(a,"modalIndex");function r(t){d(t),o(!0)}function i(){o(!1)}return l.jsxs("section",{children:[l.jsxs("h2",{className:"text-3xl md:text-4xl font-bold mb-12",children:["Project Gallery",l.jsx("span",{className:"inline-block ml-1",children:"_"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:e?.map((t,u)=>l.jsx("div",{onClick:()=>r(u),className:"cursor-pointer",children:l.jsx("img",{src:m(t.asset).format("webp").fit("fill").url(),height:256,width:320,alt:`Project gallery ${u+1}`,className:"w-full h-64 object-cover rounded-lg hover:opacity-90 transition-opacity"})},u))}),c&&l.jsx(g,{images:s,initialIndex:a,onClose:i})]})};export{v as default};
